<script type="text/javascript">
window.onDomReady(function() {
  new dgCidadesEstados({
    estado: document.getElementById('address_state'),
    cidade: document.getElementById('address_city'),
    change: true
  });
});
</script>

<div class="row center-xs">
  <div class="col-xs-8 col-md-6">
    <div class="box text-left">
      <h2>Cadastrar Loja</h2>

      <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>

        <% if devise_error_messages! != "" %>
        <div class="alert alert-danger" role="alert">
          <%= devise_error_messages! %>
        </div>
        <% end %>

        <div class="field">
          <%= f.email_field :email, autofocus: true, required: true, class:"form-control", placeholder: "Email" %>
        </div>

        <div class="field">
          <%= f.password_field :password, autocomplete: "off", required: true, class:"form-control", placeholder: "Senha"  %>
        </div>

        <div class="field">
          <%= f.password_field :password_confirmation, autocomplete: "off", required: true, class:"form-control", placeholder: "Confirmar Senha"  %>
        </div>

        <div class="field">
          <%= f.text_field :name, autofocus: true, required: true, class:"form-control", placeholder: "Nome Da Loja"  %>
        </div>

        <div class="field">
          <%= f.text_field :cnpj, autofocus: true, required: true, class:"form-control", placeholder: "CNPJ"  %>
        </div>

        <div class="field">
          <%= f.text_field :instagram, autofocus: true, class:"form-control", placeholder: "Instagram"  %>
        </div>

        <div class="field">
          <%= f.text_field :facebook, autofocus: true, class:"form-control", placeholder: "Facebook"  %>
        </div>

        <div class="field">
          <%= f.text_field :site, autofocus: true, class:"form-control", placeholder: "Site"  %>
        </div>

        <div class="field">
          <%= f.text_field :telephone, autofocus: true, required: true, class:"form-control", placeholder: "Telefone", type: "telephone" %>
        </div>

        <div class="field">
          <%= f.text_field :name_responsible, autofocus: true, required: true, class:"form-control", placeholder: "Nome do responsável"  %>
        </div>

        <div class="field">
          <%= f.label :photo, "Foto da loja" %>
          <%= f.file_field :photo, required: true, class:"form-control"  %>
        </div>

        <div class="field">
          <%= f.check_box :delivery, onclick: "showMe('div1')" %>
          <%= f.label :delivery, "Possui delivery?" %>
        </div>

        <div class="field" id="div1" style="display:none">
          <div class="alert alert-info" role="alert">Nossa Forma De Calcular o Valor Do Delivery É Pela Distância Entre O Endereço De Entrega E O Da Loja, Informe-nos O Valor Por Quilometro Abaixo!</div>
          <%= f.text_field :value_per_km, autofocus: true, class:"form-control", type: "price", placeholder: "Valor Por KM(R$)" %>
        </div>

        <h2> Endereço </h2>
        <%= fields_for :address do |a| %>

          <!--<div class="field">
            <select name="veiculo" id="address_country1"></select>
          </div>-->
          <div class="field">
            <%= a.label :country, "País: Brasil" %>
          </div>
          <div class="field">
            <%= a.label :state, "Estado: " %>
            <p/>
            <%= a.text_field :state, required: true, class:"form-control" %>
          </div>
          <div class="field">
            <%= a.label :city, "Cidade: " %>
            <p/>
            <%= a.text_field :city, required: true, class:"form-control" %>
          </div>
           <div class="field">
            <%= a.text_field :district, required: true, class:"form-control", placeholder: "Bairro"  %>
          </div>
          <div class="field">
            <%= a.text_field :street, required: true, class:"form-control", placeholder: "Rua"  %>
          </div>
          <div class="field">
            <%= a.text_field :number, required: true, class:"form-control", placeholder: "Número", pattern: "[0-9]+", title: "Permitido apenas números" %>
          </div>
          <div class="field">
            <%= a.text_field :cep, required: true, class:"form-control", placeholder: "CEP" %>
          </div>
          <div class="field">
            <%= a.text_field :complement, class:"form-control", placeholder: "Complemento" %>
          </div>
        <% end %>

        <h2> Formas De Pagamento </h2>
        <%= fields_for :form_of_payment_of_stores do |fps| %>

          <% FormOfPayment.all.each do |fp| %>
            <div class="field">
              <%= fps.check_box(:ids_forms_of_payment, { :multiple => true }, fp.id) %>
              <%= fps.label :ids_forms_of_payment, fp.title %>
            </div>
          <% end %>
          
        <% end %>


        <div class="field">
          <%= f.submit "Cadastrar", class:"btn be-red white" %>
        </div>
      <% end %>

      <%= render "stores/shared/links" %>
      <br/>
      <br/>
      <br/>
    </div>
  </div>
</div>